<!DOCTYPE html>
<html>
<head>
    <title>Employee Payroll</title>
    <link rel="stylesheet" href="/dashboard.css">
</head>
<body>

<div class="container">

    <div class="top-bar">
        <h1>Employee Details</h1>
        <a href="/add" class="add-btn">+ Add User</a>
    </div>

    <div class="card">
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Gender</th>
                    <th>Department</th>
                    <th>Salary</th>
                    <th>Tax (10%)</th>
                    <th>Net Salary</th>
                    <th>Start Date</th>
                    <th>Actions</th>
                </tr>
            </thead>

            <tbody>

            <% if (employees.length === 0) { %>
                <tr>
                    <td colspan="8" class="no-data">No Employees Found</td>
                </tr>
            <% } else { %>

                <% employees.forEach(emp => { %>
                    <tr>

                        <!-- Name + Avatar -->
                        <td class="name-cell">
                            <div class="avatar">
                                <%= emp.name.charAt(0).toUpperCase() %>
                            </div>
                            <span><%= emp.name %></span>
                        </td>

                        <!-- Gender -->
                        <td>
                            <span class="gender <%= emp.gender.toLowerCase() %>">
                                <%= emp.gender %>
                            </span>
                        </td>

                        <!-- Department -->
                        <td>
                            <span class="badge">
                                <%= emp.department.join(', ') %>
                            </span>
                        </td>

                        <!-- Salary -->
                        <td>‚Çπ <%= emp.basicSalary.toLocaleString() %></td>

                        <!-- Tax -->
                        <td>‚Çπ <%= emp.tax.toFixed(2) %></td>

                        <!-- Net Salary -->
                        <td>‚Çπ <%= emp.netSalary.toFixed(2) %></td>

                        <!-- Start Date -->
                        <td><%= emp.startDate %></td>

                        <!-- Actions -->
                        <td class="actions">
                            <a href="/edit/<%= emp.id %>" class="edit">‚úè</a>
                            <a href="/delete/<%= emp.id %>" class="delete" onclick="return confirm('Are you sure you want to delete this employee?');">üóë</a>
                        </td>

                    </tr>
                <% }) %>

            <% } %>

            </tbody>
        </table>
    </div>

</div>

</body>
</html>
